<p align="center">
<img src='./docs/liteswarm.png'>
</p>

## Swarming LEDs for LED Fun

This project can be be applied to many projects. Our prototype has been in scarves. These can also go in all sorts of other places:

- Wearables such as scarves and hats.
- Bike safety helmet.
- Bike lights.

### Why these? What's the swarm?

The thing that makes this project unique is the swarm. We're working to establish a way for multiple projects to communicate so that you can sync up animations with friends or even strangers.

![Pile of scarves synced up](docs/scarves-on-couch.jpg)

Cheap simple hardware that can be put together in a robust and ad-hoc way to
keep you safe for nights of partying, or bicycling. Keep your friends all in a group with a synchronized mobile light show.

### Materials / Shopping List

These are some of the materials we've used to build our own. You can pretty much bank on them workin for your project.

- [portable battery packs](https://smile.amazon.com/Smallest-Jackery-3350mAh-Portable-Charger/dp/B00L9F95RO/ref=sr_1_8?keywords=jackery+battery+pack&qid=1559954560&s=gateway&sr=8-8), not a bad idea to have two. These are small enough to fit inside of a fuzzy scarf, and they don't turn off on you. You can get a few hours out of one of these... Depends on the animation you run.
- [fabric](https://www.joann.com/luxury-faux-husky-fur-fabric--white/14387674.html)
- [arduino nanos](https://smile.amazon.com/gp/product/B07HF5RMHV/ref=crt_ewc_title_dp_2?ie=UTF8&psc=1&smid=A278BT9THV444Y)
- [led strips](https://www.aliexpress.com/item/5m-5V-WS2812B-WS2812-Led-Strip-light-Individually-Addressable-Smart-RGB-Led-pixel-strips-Black-White/32995915537.html?spm=a2g0o.cart.0.0.69a03c00Io4CfT)
- [usb cables](https://www.amazon.com/HTTX-Straight-Soldering-Connector-Replacement/dp/B07D1HDJM8/ref=sr_1_10?keywords=usb-a+connector+male&qid=1559956539&s=gateway&sr=8-10)
- [rotary encoder](https://smile.amazon.com/DIYhz-Rotary-Encoder-Digital-Potentiometer/dp/B07D3D64X7/ref=sr_1_10?keywords=rotary+encoder&qid=1559955080&s=industrial&sr=1-10)
- [wire](https://www.amazon.com/StrivedayTM-Flexible-Silicone-electronic-electrics/dp/B01KQ2JNLI/ref=sr_1_8?keywords=soldering+wire&qid=1559956794&s=gateway&sr=8-8)

## Contributing

### Getting Involved

If you'd like to submit a bug, go ahead and use the issue tracker.

If you'd like to make submit a feature or a fix.

- Open an issue to get buy in.
- Fork the repo.
- Make your changes.
- Submit a pull request.

### Troubleshooting

Things you might be missing.

- edit using VSCode with PlatformIO plugin
- OpenOCD some USB stuff `brew install openocd` (or else `dyld: Library not loaded: /usr/local/opt/libftdi/lib/libftdi1.2.dylib`)

## Install and Upload

### ESP32

First make sure you can upload a basic sketch.

- Download these drivers if you have not: [Espressif USB Drivers](https://www.silabs.com/products/development-tools/software/usb-to-uart-bridge-vcp-drivers]
- Use the arduino IDE and add the repo `https://raw.githubusercontent.com/espressif/arduino-esp32/gh-pages/package_esp32_index.json` in the preferences for installing boards.
- Install esptool `brew install esptool`
- In the boards manager install the latest `espressif` boards.
- Select the `ESP32 Dev Kit` as your target board.
- Change upload rate to 921600
- Your port should reference UART `/dev/cu.SLAB_USBtoUART`
- Run the following example Blink.

```c++
int LED_BUILTIN = 2;
void setup() {
  pinMode(LED_BUILTIN, OUTPUT);
}

void loop() {
  digitalWrite(LED_BUILTIN, HIGH);
  delay(1000);
  digitalWrite(LED_BUILTIN, LOW);
  delay(1000);
}
```

If you have a flashing blue LED you're in business.

### Notes

- Ifdef might be able to tap into env vars to contitionally include.
-
